<html lang="en" ng-app="tileEditor">
<head>
	<title></title>
	<link rel="stylesheet" href="css/bootstrap.css" />
	<link rel="stylesheet" href="css/styles.css" />
</head>
<body>

	<div id="editor" ng-controller="EditorCtrl">
		<div id="menubar">
			<button ng-click="stopDrag()" style="margin:20px">Stop Drag</button>
			<button ng-click="addImage()" style="margin:20px">Add Image</button>
			<button ng-click="saveMap()" style="margin:20px">Save Map</button>
			<button ng-click="loadMap()" style="margin:20px">Load Map</button>
			<input type="file" id="spriteToUpload">
			<button ng-click="uploadSprite()" style="margin:20px">Upload Sprite</button>
		</div>
		<div id="left">
			<tabs id="editPanes">
				<pane heading="World">
					<div id="editWorld" ng-controller="EditingCtrl">
						<div ng-repeat="row in World.query()" class="tileRow" ng-style="rowStyle">
							<div ng-repeat="tile in row" class="tile">
								<img ng-src="{{tile.img}}">
								<img ng-src="{{tile.highlight}}" class="highlight">
								<div class="trans"
									ng-mousedown="mouseDown($parent.$index, $index)" 
									ng-mouseup="mouseUp($parent.$index, $index)" 
									ng-mouseenter="mouseEnter($parent.$index, $index)"
									ng-mouseleave="mouseLeave($parent.$index, $index)"></div>
							</div>	
						</div>
					</div>
				</pane>
				<pane heading="Tiles">
					<div edit-tiles></div>
				</pane>
			</tabs>
		</div>
		<div id="right">
			<div id="minimap" ng-controller="minimapCtrl">
				<div ng-repeat="row in World.query()" class="tileRow" ng-style="rowStyle">
					<div ng-repeat="tile in row" class="tile minimapTile">
						
						<img ng-src="{{tile.img}}">
						<img ng-src="{{tile.highlight}}" class="highlight">
						<div class="trans" 
							ng-mousedown="tileDown($parent.$index, $index)" 
							ng-mouseup="tileUp($parent.$index, $index)" 
							ng-mouseenter="tileEnter($parent.$index, $index)" 
							ng-mouseleave="tileLeave($parent.$index, $index)"></div>
					</div>
				</div>
				<div id="border" ng-style="borderStyle" ng-mouseup="tileUp()"></div>
			</div>
			<tabs>
				<pane heading="Tiles">
					<div id="selectTiles" ng-controller="SelectionCtrl">
						<div ng-repeat="row in SelectedTiles.tiles" class="tileRow">
							<div ng-repeat="tile in row" class="tile">
							<!-- <div ng-repeat="tile in SelectedTiles.tiles" class="tile"> -->
								
								<img ng-src="{{tile.img}}">
								<img ng-src="{{tile.highlight}}" class="highlight">
								<div class="trans" 
									ng-mousedown="tileDown($parent.$index, $index)" 
									ng-mouseup="tileUp($parent.$index, $index)" 
									ng-mouseenter="tileEnter($parent.$index, $index)" 
									ng-mouseleave="tileLeave($parent.$index, $index)"></div>
							</div>
						</div>
					</div>
				</pane>
			</tabs>
		</div>
	</div>

	<input type="hidden" ng-file-select="onFileSelect($files)" >

	<script src="lib/jquery.js"></script>
	<script src="lib/angular.min.js"></script>
	<script src="lib/angular-resource.min.js"></script>
	<script src="lib/canvas-to-blob.min.js"></script>
	<script src="lib/angular-file-upload.js"></script>
	<script src="lib/ui-bootstrap-tpls-0.3.0.min.js"></script>
	<script src="js/tiles/tiles.js"></script>
	<script src="js/world/world.js"></script>
	<script src="js/editing/editing.js"></script>
	<script src="js/selection/selection.js"></script>
	<script src="js/minimap/minimap.js"></script>
	<script src="js/app.js"></script>
</body>
</html>